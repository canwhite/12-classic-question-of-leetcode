# äºŒå‰æ ‘éå†è¯¦è§£ (å°ç™½ç‰ˆ)

## ğŸŒ³ äºŒå‰æ ‘çš„ä¸‰ç§éå†æ–¹å¼

### åŸºæœ¬æ¦‚å¿µ
å¯¹äºæ¯ä¸ªèŠ‚ç‚¹ï¼Œéƒ½è¦è®¿é—®ï¼š**å·¦å­©å­ã€æ ¹èŠ‚ç‚¹ã€å³å­©å­**

ä¸‰ç§éå†çš„åŒºåˆ«åœ¨äº**è®¿é—®æ ¹èŠ‚ç‚¹çš„æ—¶æœº**ï¼š

```
å¯¹äºèŠ‚ç‚¹ï¼š
    æ ¹
   /   \
 å·¦å­  å³å­

ä¸‰ç§è®¿é—®é¡ºåºï¼š
â“? â†’ å·¦ â†’ å³  â†’ å‰åº,qianxu
å·¦ â†’ â“? â†’ å³  â†’ ä¸­åº
å·¦ â†’ å³ â†’ â“?  â†’ ååº
```

---

## ğŸ¯ ä¸‰ç§éå†çš„æ ¸å¿ƒåŒºåˆ«

### é€šç”¨ä»£ç æ¨¡æ¿

```go
func traversal(root *TreeNode) []int {
    var result []int

    var traverse func(*TreeNode)
    traverse = func(node *TreeNode) {
        if node == nil { return }

        // æ ¹æ®éå†ç±»å‹è°ƒæ•´è¿™ä¸‰è¡Œçš„é¡ºåº
        traverse(node.Left)      // å·¦å­æ ‘
        // result = append(result, node.Val)  // æ ¹èŠ‚ç‚¹ï¼ˆä½ç½®å¯å˜ï¼‰
        traverse(node.Right)     // å³å­æ ‘
    }

    traverse(root)
    return result
}
```

**å…³é”®åŒºåˆ«**ï¼š`result = append(result, node.Val)` çš„ä½ç½®å†³å®šäº†éå†ç±»å‹

---

## ğŸ¯ 1. å‰åºéå†ï¼ˆPreorderï¼‰ - æ ¹ â†’ å·¦ â†’ å³

**é¡ºåºï¼š** æ ¹ â†’ å·¦ â†’ å³

```go
func preorderTraversal(root *TreeNode) []int {
    var result []int
    var traverse func(*TreeNode)
    traverse = func(node *TreeNode) {
        if node == nil { return }

        result = append(result, node.Val)  // 1ï¸âƒ£ å…ˆå¤„ç†æ ¹èŠ‚ç‚¹
        traverse(node.Left)                // 2ï¸âƒ£ å†å¤„ç†å·¦å­æ ‘
        traverse(node.Right)               // 3ï¸âƒ£ æœ€åå¤„ç†å³å­æ ‘
    }
    traverse(root)
    return result
}
```

### ç¤ºä¾‹æ ‘ï¼š`[1,2,3]`
```
    1
   / \
  2   3
```

**å‰åºéå†ç»“æœï¼š** `[1, 2, 3]`
- å…ˆè®¿é—®æ ¹èŠ‚ç‚¹ 1
- ç„¶åè®¿é—®å·¦å­æ ‘ 2
- æœ€åè®¿é—®å³å­æ ‘ 3

### ç‰¹ç‚¹
- **æ ¹èŠ‚ç‚¹æœ€å…ˆè¢«è®¿é—®**
- **é€‚åˆå¤åˆ¶æ ‘ç»“æ„**
- **èƒ½å¤Ÿé‡å»ºåŸå§‹æ ‘ç»“æ„**

---

## ğŸ¯ 2. ä¸­åºéå†ï¼ˆInorderï¼‰ - å·¦ â†’ æ ¹ â†’ å³

**é¡ºåºï¼š** å·¦ â†’ æ ¹ â†’ å³

### ä½ çš„ä»£ç é€è¡Œè§£æ
```go
func inorderTraversal(root *TreeNode) []int {
    var result []int                    // æ”¶é›†éå†ç»“æœ

    var traverse func(*TreeNode)         // å†…éƒ¨é€’å½’å‡½æ•°
    traverse = func(node *TreeNode) {
        // ç»ˆæ­¢æ¡ä»¶
        if node == nil {
            return                     // ğŸ›‘ é€’å½’çš„"åˆ¹è½¦"ï¼
        }

        // ä¸­åºéå†ï¼šå·¦ â†’ æ ¹ â†’ å³
        traverse(node.Left)             // 1ï¸âƒ£ å…ˆéå†å·¦å­æ ‘
        result = append(result, node.Val)  // 2ï¸âƒ£ å†å¤„ç†å½“å‰èŠ‚ç‚¹
        traverse(node.Right)            // 3ï¸âƒ£ æœ€åéå†å³å­æ ‘
    }

    traverse(root)                     // ä»æ ¹èŠ‚ç‚¹å¼€å§‹é€’å½’
    return result
}
```

### é€è¡Œä»£ç è¯¦è§£

#### ç¬¬1-2è¡Œï¼šå‡½æ•°å‡†å¤‡
```go
var result []int
var traverse func(*TreeNode)
```
- `result`ï¼šæ”¶é›†éå†ç»“æœçš„åˆ‡ç‰‡
- `traverse`ï¼šå†…éƒ¨çš„é€’å½’å‡½æ•°ï¼ˆé—­åŒ…ï¼‰

#### ç¬¬4-7è¡Œï¼šé€’å½’ç»ˆæ­¢æ¡ä»¶
```go
traverse = func(node *TreeNode) {
    if node == nil {
        return
    }
```
- **å¦‚æœèŠ‚ç‚¹ä¸ºç©ºï¼Œç›´æ¥è¿”å›**
- **è¿™æ˜¯é€’å½’çš„"åˆ¹è½¦"**ï¼Œé˜²æ­¢æ— é™é€’å½’
- **ç¡®ä¿é€’å½’èƒ½å¤Ÿæ­£å¸¸ç»ˆæ­¢**

#### ç¬¬10è¡Œï¼šå…³é”®ï¼éå†å·¦å­æ ‘
```go
traverse(node.Left)
```
- **å…ˆå¤„ç†å·¦è¾¹çš„æ‰€æœ‰èŠ‚ç‚¹**
- ä¼šä¸€ç›´é€’å½’åˆ°æœ€å·¦è¾¹çš„å¶å­èŠ‚ç‚¹
- **åªæœ‰å·¦å­æ ‘å¤„ç†å®Œæ¯•ï¼Œæ‰ä¼šæ‰§è¡Œåé¢çš„ä»£ç ï¼**
- **è¿™å°±æ˜¯ä¸ºä»€ä¹ˆå…ˆæ‰§è¡Œè¿™ä¸€è¡Œ**

#### ç¬¬11è¡Œï¼šå¤„ç†å½“å‰èŠ‚ç‚¹
```go
result = append(result, node.Val)
```
- **åœ¨å·¦å­æ ‘å¤„ç†å®Œåï¼Œæ‰å¤„ç†å½“å‰èŠ‚ç‚¹**
- è¿™å°±æ˜¯ä¸ºä»€ä¹ˆå«"ä¸­"åº - åœ¨ä¸­é—´å¤„ç†
- **å€¼è¢«åŠ å…¥ç»“æœæ•°ç»„**

#### ç¬¬12è¡Œï¼šå¤„ç†å³å­æ ‘
```go
traverse(node.Right)
```
- **æœ€åå¤„ç†å³è¾¹çš„æ‰€æœ‰èŠ‚ç‚¹**
- **ç¡®ä¿å®Œæ•´çš„éå†è¦†ç›–**

#### ç¬¬16-17è¡Œï¼šå¼€å§‹éå†
```go
traverse(root)
return result
```
- **ä»æ ¹èŠ‚ç‚¹å¼€å§‹é€’å½’**
- **è¿”å›æœ€ç»ˆç»“æœ**

### è®¿é—®é¡ºåº
```
        F
       / \
      B   G
     / \   \
    A   D   I
       / \
      C   E
```

**è¯¦ç»†è¿‡ç¨‹**ï¼š
```
1. æ‰¾Fçš„å·¦å­æ ‘ï¼šB
   1.1 æ‰¾Bçš„å·¦å­æ ‘ï¼šA â†’ åŠ å…¥A
   1.2 ç„¶åB â†’ åŠ å…¥B
   1.3 å†æ‰¾Bçš„å³å­æ ‘ï¼šD
       1.3.1 å…ˆæ‰¾Dçš„å·¦å­æ ‘ï¼šC â†’ åŠ å…¥C
       1.3.2 ç„¶åD â†’ åŠ å…¥D
       1.3.3 å†æ‰¾Dçš„å³å­æ ‘ï¼šE â†’ åŠ å…¥E
2. ç„¶åF â†’ åŠ å…¥F
3. å†æ‰¾Fçš„å³å­æ ‘ï¼šG â†’ I â†’ G â†’ I
```

**ç»“æœ**ï¼š`[A, B, C, D, E, F, G, I]`

### è¯¦ç»†æ‰§è¡Œè¿‡ç¨‹è¿½è¸ª

#### æ ‘ç»“æ„ï¼š
```
    4
   / \
  2   6
 / \
1   3
```

#### ä»£ç æ‰§è¡Œè¿½è¸ªï¼š

**ç¬¬1æ­¥ï¼š`traverse(4)`**
```
traverse(node=4):
  if node == nil? âŒ (4ä¸ä¸ºç©º)
  traverse(node.Left)  // è°ƒç”¨ traverse(2)
```

**ç¬¬2æ­¥ï¼š`traverse(2)`**
```
traverse(node=2):
  if node == nil? âŒ (2ä¸ä¸ºç©º)
  traverse(node.Left)  // è°ƒç”¨ traverse(1)
```

**ç¬¬3æ­¥ï¼š`traverse(1)`**
```
traverse(node=1):
  if node == nil? âŒ (1ä¸ä¸ºç©º)
  traverse(node.Left)  // è°ƒç”¨ traverse(nil)
```

**ç¬¬4æ­¥ï¼š`traverse(nil)`**
```
traverse(node=nil):
  if node == nil? âœ… (ä¸ºç©º)
  return  // è¿”å›åˆ° traverse(1)
```

**ç¬¬5æ­¥ï¼šå›åˆ° `traverse(1)`**
```
// traverse(nil) å·²è¿”å›
traverse(node=1):
  // ç»§ç»­ traverse(1) çš„ä¸‹ä¸€è¡Œ
  result = append(result, node.Val)  // result = [1]
  traverse(node.Right)  // è°ƒç”¨ traverse(nil)
```

**ç¬¬6æ­¥ï¼š`traverse(nil)` (1çš„å³å­æ ‘)**
```
traverse(node=nil):
  if node == nil? âœ… (ä¸ºç©º)
  return  // è¿”å›åˆ° traverse(1)
```

**ç¬¬7æ­¥ï¼š`traverse(1)` å®Œæˆ**
```
// traverse(1) æ‰§è¡Œå®Œæ¯•
// è¿”å›åˆ° traverse(2)
```

**ç¬¬8æ­¥ï¼šå›åˆ° `traverse(2)`**
```
// traverse(1) å·²è¿”å›
traverse(node=2):
  // ç»§ç»­ traverse(2) çš„ä¸‹ä¸€è¡Œ
  result = append(result, node.Val)  // result = [1, 2]
  traverse(node.Right)  // è°ƒç”¨ traverse(3)
```

**ç»§ç»­è¿™ä¸ªè¿‡ç¨‹ç›´åˆ°å®Œæˆ...**

#### å®Œæ•´çš„æ‰§è¡Œé¡ºåºï¼š
```
traverse(4)
â”œâ”€â”€ traverse(2)
â”‚   â”œâ”€â”€ traverse(1)
â”‚   â”‚   â”œâ”€â”€ traverse(nil)  â† è¿”å›
â”‚   â”‚   â”œâ”€â”€ result = [1]
â”‚   â”‚   â””â”€â”€ traverse(nil)  â† è¿”å›
â”‚   â”œâ”€â”€ result = [1, 2]
â”‚   â””â”€â”€ traverse(3)
â”‚       â”œâ”€â”€ traverse(nil)  â† è¿”å›
â”‚       â”œâ”€â”€ result = [1, 2, 3]
â”‚       â””â”€â”€ traverse(nil)  â† è¿”å›
â”œâ”€â”€ result = [1, 2, 3, 4]
â””â”€â”€ traverse(6)
    â”œâ”€â”€ traverse(nil)  â† è¿”å›
    â”œâ”€â”€ result = [1, 2, 3, 4, 6]
    â””â”€â”€ traverse(nil)  â† è¿”å›

æœ€ç»ˆç»“æœ: [1, 2, 3, 4, 6]
```

### ç‰¹ç‚¹
- **æ ¹èŠ‚ç‚¹åœ¨ä¸­é—´è¢«è®¿é—®**
- **å¯¹äºäºŒå‰æœç´¢æ ‘ï¼ˆBSTï¼‰ï¼Œä¸­åºéå†å¾—åˆ°æœ‰åºæ•°ç»„ï¼**
- **é€‚åˆæœ‰åºè¾“å‡º**

### é‡è¦åº”ç”¨ï¼šBSTçš„ä¸­åºéå†
```
    4  â† BSTæ ¹èŠ‚ç‚¹
   / \
  2   6
 / \ / \
1  3 5  7
```

**ä¸­åºéå†ç»“æœ**ï¼š`[1, 2, 3, 4, 5, 6, 7]`ï¼ˆå‡åºæ’åˆ—ï¼‰

---

## ğŸ¯ 3. ååºéå†ï¼ˆPostorderï¼‰

**é¡ºåºï¼šå·¦ â†’ å³ â†’ æ ¹**

### ä»£ç å®ç°
```go
func postorderTraversal(root *TreeNode) []int {
    var result []int

    var traverse func(*TreeNode)
    traverse = func(node *TreeNode) {
        if node == nil {
            return
        }

        // ååºï¼šæœ€åè®¿é—®æ ¹èŠ‚ç‚¹
        traverse(node.Left)                  // 1ï¸âƒ£ å…ˆåŠ å·¦å­æ ‘
        traverse(node.Right)                 // 2ï¸âƒ£ å†åŠ å³å­æ ‘
        result = append(result, node.Val)     // 3ï¸âƒ£ æœ€ååŠ è‡ªå·±
    }

    traverse(root)
    return result
}
```

### è®¿é—®é¡ºåº
```
        F
       / \
      B   G
     / \   \
    A   D   I
       / \
      C   E
```

**è¯¦ç»†è¿‡ç¨‹**ï¼š
```
1. å…ˆå¤„ç†Fçš„å·¦å­æ ‘ï¼šB
   1.1 å…ˆå¤„ç†Bçš„å·¦å­æ ‘ï¼šA â†’ åŠ å…¥A
   1.2 å†å¤„ç†Bçš„å³å­æ ‘ï¼šD
       1.2.1 å…ˆå¤„ç†Dçš„å·¦å­æ ‘ï¼šC â†’ åŠ å…¥C
       1.2.2 å†å¤„ç†Dçš„å³å­æ ‘ï¼šE â†’ åŠ å…¥E
       1.2.3 ç„¶åD â†’ åŠ å…¥D
   1.3 æœ€åB â†’ åŠ å…¥B
2. å†å¤„ç†Fçš„å³å­æ ‘ï¼šG
   2.1 å…ˆå¤„ç†Gçš„å³å­æ ‘ï¼šI â†’ åŠ å…¥I
   2.2 æœ€åG â†’ åŠ å…¥G
3. æœ€åF â†’ åŠ å…¥F
```

**ç»“æœ**ï¼š`[A, C, E, D, B, I, G, F]`

### ç‰¹ç‚¹
- **æ ¹èŠ‚ç‚¹æœ€åè¢«è®¿é—®**
- **é€‚åˆåˆ é™¤æ ‘ç»“æ„**
- **å¯ä»¥å®‰å…¨åœ°ä»å¶å­å‘æ ¹åˆ é™¤èŠ‚ç‚¹**

---

## ğŸ”„ ä¸‰ç§éå†å¯¹æ¯”

### è®°å¿†æŠ€å·§
```
å‰åºï¼šPre-order â†’ æ ¹åœ¨å‰
ä¸­åºï¼šIn-order   â†’ æ ¹åœ¨ä¸­
ååºï¼šPost-orderâ†’ æ ¹åœ¨å
```

### å¯è§†åŒ–è®°å¿†
```
å›´ç»•èŠ‚ç‚¹ç”»åœˆï¼š

      å‰åºï¼š    ä¸­åºï¼š    ååºï¼š
        ğŸ”¼        ğŸ¯        ğŸ”½
       / \       / \       / \
      ğŸ”¼  ğŸ”¼    ğŸ¯  ğŸ¯    ğŸ”½  ğŸ”½
     / \        / \       / \
    ğŸ”¼  ğŸ”¼     ğŸ¯  ğŸ¯    ğŸ”½  ğŸ”½
```

### å¯¹æ¯”è¡¨

| éå†æ–¹å¼ | è®¿é—®é¡ºåº | ä»£ç æ¨¡å¼ | ç‰¹ç‚¹ | åº”ç”¨åœºæ™¯ |
|---------|---------|---------|------|----------|
| å‰åº | æ ¹â†’å·¦â†’å³ | `node.Left` <br> `result = append()` <br> `node.Right` | æ ¹èŠ‚ç‚¹æœ€å…ˆè®¿é—® | å¤åˆ¶æ ‘ã€å‰ç¼€è¡¨è¾¾å¼ |
| ä¸­åº | å·¦â†’æ ¹â†’å³ | `traverse(node.Left)` <br> `result = append(node.Val)` <br> `traverse(node.Right)` | æ ¹èŠ‚ç‚¹åœ¨ä¸­é—´è®¿é—® | BSTæœ‰åºè¾“å‡ºã€ä¸­ç¼€è¡¨è¾¾å¼ |
| ååº | å·¦â†’å³â†’æ ¹ | `traverse(node.Left)` <br> `traverse(node.Right)` <br> `result = append(node.Val)` | æ ¹èŠ‚ç‚¹æœ€åè®¿é—® | åˆ é™¤æ ‘ã€åç¼€è¡¨è¾¾å¼ã€ç›®å½•åˆ é™¤ |

### ç¤ºä¾‹æ ‘çš„ä¸‰ç§éå†ç»“æœ
```
        A
       / \
      B   C
     / \   \
    D   E   F
```

| éå†æ–¹å¼ | ç»“æœ | è¯´æ˜ |
|---------|------|------|
| å‰åº | [A, B, D, E, C, F] | Aæœ€å…ˆï¼ŒFæœ€å |
| ä¸­åº | [D, B, E, A, C, F] | Båœ¨Då’ŒEä¸­é—´ |
| ååº | [D, E, B, F, C, A] | Aæœ€åï¼ŒDæœ€å…ˆ |

---

## ğŸ® è¿­ä»£è§£æ³•è¯¦è§£

### ä¸­åºéå†çš„è¿­ä»£ç‰ˆæœ¬
```go
func inorderTraversalIterative(root *TreeNode) []int {
    var result []int
    var stack []*TreeNode
    current := root

    for current != nil || len(stack) > 0 {
        // ç¬¬ä¸€é˜¶æ®µï¼šä¸€ç›´å¾€å·¦èµ°ï¼ŒæŠŠè·¯å¾„å…¥æ ˆ
        for current != nil {
            stack = append(stack, current)
            current = current.Left
        }

        // ç¬¬äºŒé˜¶æ®µï¼šå¼¹å‡ºæ ˆé¡¶ï¼Œå¤„ç†èŠ‚ç‚¹
        current = stack[len(stack)-1]
        stack = stack[:len(stack)-1]
        result = append(result, current.Val)

        // ç¬¬ä¸‰é˜¶æ®µï¼šè½¬å‘å³å­æ ‘
        current = current.Right
    }

    return result
}
```

### è¿­ä»£è§£æ³•è¯¦ç»†è§£æ

#### æ ¸å¿ƒæ€æƒ³
- **ç”¨æ ˆæ¨¡æ‹Ÿé€’å½’è°ƒç”¨**
- **ç¡®ä¿è®¿é—®é¡ºåºä¸é€’å½’ç‰ˆæœ¬ç›¸åŒ**

#### æ‰§è¡Œè¿‡ç¨‹åˆ†è§£

**å‡è®¾æ ‘ï¼š**
```
    4
   / \
  2   6
 / \
1   3
```

**ç¬¬1è½®ï¼šå¤„ç†å·¦è¾¹çš„è·¯å¾„**
```
current = 4, stack = [], result = []
  â†’ 4å…¥æ ˆ: stack = [4], current = 4.Left = 2
  â†’ 2å…¥æ ˆ: stack = [4, 2], current = 2.Left = 1
  â†’ 1å…¥æ ˆ: stack = [4, 2, 1], current = 1.Left = nil

currentä¸ºnilï¼Œå¼€å§‹å¤„ç†æ ˆ
```

**ç¬¬2è½®ï¼šå¼¹å‡º1ï¼Œè½¬å‘å³**
```
å¼¹å‡ºæ ˆé¡¶: current = 1, stack = [4, 2]
åŠ å…¥ç»“æœ: result = [1]
è½¬å‘å³å­æ ‘: current = 1.Right = nil

currentä¸ºnilï¼Œç»§ç»­å¤„ç†æ ˆ
```

**ç¬¬3è½®ï¼šå¼¹å‡º2ï¼Œè½¬å‘å³**
```
å¼¹å‡ºæ ˆé¡¶: current = 2, stack = [4]
åŠ å…¥ç»“æœ: result = [1, 2]
è½¬å‘å³å­æ ‘: current = 2.Right = 3

currentä¸ä¸ºnilï¼Œç»§ç»­å·¦èµ°
```

**ç»§ç»­è¿™ä¸ªè¿‡ç¨‹ç›´åˆ°ç»“æŸ**

#### ä¸‰é˜¶æ®µå¾ªç¯ç†è§£

**ç¬¬ä¸€é˜¶æ®µï¼šæ‰¾æœ€å·¦èŠ‚ç‚¹**
```go
for current != nil {
    stack = append(stack, current)  // ä¿å­˜è·¯å¾„
    current = current.Left          // ç»§ç»­å‘å·¦
}
```
- **æŠŠæ‰€æœ‰å·¦è·¯å¾„ä¿å­˜åˆ°æ ˆä¸­**
- **è®°å½•è®¿é—®è·¯å¾„**

**ç¬¬äºŒé˜¶æ®µï¼šå¤„ç†èŠ‚ç‚¹**
```go
current = stack[len(stack)-1]      // å¼¹å‡ºæ ˆé¡¶
stack = stack[:len(stack)-1]        // ç§»é™¤æ ˆé¡¶
result = append(result, current.Val) // å¤„ç†å½“å‰èŠ‚ç‚¹
```
- **æŒ‰ç…§ä¸­åºé¡ºåºå¤„ç†èŠ‚ç‚¹**
- **ç¡®ä¿å·¦å­æ ‘å·²å¤„ç†**

**ç¬¬ä¸‰é˜¶æ®µï¼šè½¬å‘å³å­æ ‘**
```go
current = current.Right
```
- **å¤„ç†å®Œå½“å‰èŠ‚ç‚¹åè½¬å‘å³è¾¹**
- **é‡å¤æ•´ä¸ªè¿‡ç¨‹**

---

## ğŸ’¡ å…³é”®ç†è§£ç‚¹

### 1. ä¸ºä»€ä¹ˆé€’å½’çš„é¡ºåºå¾ˆé‡è¦ï¼Ÿ
```go
// é”™è¯¯çš„é¡ºåºï¼ˆä¼šå¯¼è‡´æ­»å¾ªç¯ï¼‰
func wrongInorder(node *TreeNode) {
    result = append(result, node.Val)  // å…ˆå¤„ç†è‡ªå·±
    traverse(node.Left)               // å†å¤„ç†å·¦
    traverse(node.Right)              // æœ€åå¤„ç†å³
}
```
- **å¿…é¡»å…ˆå¤„ç†å®Œå­æ ‘ï¼Œå†å¤„ç†å½“å‰èŠ‚ç‚¹**
- **ç¡®ä¿ç»ˆæ­¢æ¡ä»¶æœ‰æ•ˆ**

### 2. ä¸ºä»€ä¹ˆä¸­åºéå†å¯¹BSTç‰¹æ®Šï¼Ÿ
```go
// BSTç‰¹æ€§ï¼šå·¦ < æ ¹ < å³
// ä¸­åºéå†ï¼šå·¦ â†’ æ ¹ â†’ å³
// ç»“æœï¼šæœ‰åºåºåˆ—ï¼
```

### 3. è¿­ä»£vsé€’å½’
| ç‰¹ç‚¹ | é€’å½’ | è¿­ä»£ |
|------|------|------|
| ä»£ç ç®€æ´ | âœ… | âŒ |
| å†…å­˜ä½¿ç”¨ | O(h) | O(h) |
| æ‰§è¡Œé€Ÿåº¦ | ç¨æ…¢ | ç¨å¿« |
| ç†è§£éš¾åº¦ | ç®€å• | å¤æ‚ |
| æ ˆæº¢å‡ºé£é™© | æœ‰ | æ—  |

---

## ğŸ¯ å®æˆ˜åº”ç”¨æŠ€å·§

### 1. é€‰æ‹©æ­£ç¡®çš„éå†æ–¹å¼
```go
// éœ€è¦å¤åˆ¶æ ‘ï¼šä½¿ç”¨å‰åº
func copyTree(root *TreeNode) *TreeNode {
    if root == nil { return nil }

    // å‰åºï¼šå…ˆåˆ›å»ºæ ¹èŠ‚ç‚¹ï¼Œå†å¤åˆ¶å­æ ‘
    newNode := &TreeNode{Val: root.Val}
    newNode.Left = copyTree(root.Left)
    newNode.Right = copyTree(root.Right)
    return newNode
}

// éœ€è¦æœ‰åºè¾“å‡ºï¼šä½¿ç”¨ä¸­åº
func printBSTSorted(root *TreeNode) {
    // ä¸­åºéå†ä¿è¯BSTè¾“å‡ºæœ‰åº
    inorder := inorderTraversal(root)
    fmt.Println(inorder)  // è‡ªåŠ¨æ’åºï¼
}

// éœ€è¦åˆ é™¤æ ‘ï¼šä½¿ç”¨ååº
func deleteTree(root *TreeNode) {
    // ååºï¼šå…ˆåˆ é™¤å­æ ‘ï¼Œå†åˆ é™¤æ ¹èŠ‚ç‚¹
    postorderTraversal(root)
    // å¯ä»¥å®‰å…¨åœ°é‡Šæ”¾å†…å­˜
}
```

### 2. è°ƒè¯•é€’å½’ä»£ç 
```go
func inorderWithDebug(node *TreeNode, depth int) []int {
    // æ‰“å°è°ƒç”¨ä¿¡æ¯
    fmt.Printf("%sè°ƒç”¨ traverse(%d)\n",
        strings.Repeat("  ", depth), node.Val)

    if node == nil {
        fmt.Printf("%sè¿”å› nil\n", strings.Repeat("  ", depth))
        return nil
    }

    left := inorderWithDebug(node.Left, depth+1)
    result := append(left, node.Val)  // åœ¨ä¸­é—´å¤„ç†
    right := inorderWithDebug(node.Right, depth+1)

    finalResult := append(result, right...)
    fmt.Printf("%sè¿”å› %v\n",
        strings.Repeat("  ", depth), finalResult)

    return finalResult
}
```

### 3. æ€§èƒ½ä¼˜åŒ–
```go
// ä½¿ç”¨ç¼“å†²åŒºå‡å°‘å†…å­˜åˆ†é…
func inorderOptimized(root *TreeNode) []int {
    // é¢„åˆ†é…è¶³å¤Ÿç©ºé—´
    count := countNodes(root)
    result := make([]int, 0, count)

    var traverse func(*TreeNode)
    traverse = func(node *TreeNode) {
        if node == nil { return }
        traverse(node.Left)
        result = append(result, node.Val)
        traverse(node.Right)
    }

    traverse(root)
    return result
}
```

---

## ğŸ¯ æ€»ç»“

### æ ¸å¿ƒæ¦‚å¿µ
1. **ä¸‰ç§éå†éƒ½æ˜¯é€’å½’çš„åº”ç”¨**
2. **åŒºåˆ«åœ¨äºæ ¹èŠ‚ç‚¹çš„è®¿é—®æ—¶æœº**
3. **æ¯ç§éå†éƒ½æœ‰ç‰¹å®šçš„åº”ç”¨åœºæ™¯**

### è®°å¿†è¦ç‚¹
- **å‰åº**ï¼šæ ¹â†’å·¦â†’å³ â†’ "å‰é¢å…ˆå¤„ç†æ ¹"
- **ä¸­åº**ï¼šå·¦â†’æ ¹â†’å³ â†’ "ä¸­é—´å¤„ç†æ ¹ï¼ŒBSTæœ‰åº"
- **ååº**ï¼šå·¦â†’å³â†’æ ¹ â†’ "åé¢æœ€åå¤„ç†æ ¹"

### ä»£ç æ¨¡å¼
```go
func traversal(root *TreeNode) []int {
    var result []int

    var traverse func(*TreeNode)
    traverse = func(node *TreeNode) {
        if node == nil { return }

        // æ ¹æ®éå†ç±»å‹è°ƒæ•´è¿™ä¸‰è¡Œçš„é¡ºåº
        traverse(node.Left)      // å·¦å­æ ‘
        // result = append(result, node.Val)  // æ ¹èŠ‚ç‚¹ï¼ˆä½ç½®å¯å˜ï¼‰
        traverse(node.Right)     // å³å­æ ‘
    }

    traverse(root)
    return result
}
```

**æŒæ¡è¿™ä¸‰ç§éå†ï¼Œä½ å°±æŒæ¡äº†äºŒå‰æ ‘æ“ä½œçš„åŸºç¡€ï¼**ğŸ‰

è®°ä½ï¼šé€’å½’çš„æœ¬è´¨å°±æ˜¯**"ä¸€æ¬¡åªå¤„ç†ä¸€ä¸ªèŠ‚ç‚¹ï¼ŒæŠŠå¤æ‚çš„é—®é¢˜åˆ†è§£"**ï¼

---

## ä¸­åºéå†é€’å½’è¿‡ç¨‹æ·±åº¦è§£æ

### é€’å½’çš„æœ¬è´¨ï¼šé€’å’Œå½’

é€’å½’å°±åƒä¸‹æ¥¼æ¢¯å’Œä¸Šæ¥¼æ¢¯ï¼š
- **é€’ï¼ˆä¸‹æ¥¼æ¢¯ï¼‰**ï¼šä»æ¥¼ä¸Šä¸æ–­å‘æ·±å±‚è°ƒç”¨
- **å½’ï¼ˆä¸Šæ¥¼æ¢¯ï¼‰**ï¼šä»æ·±å±‚è¿”å›ï¼Œç»§ç»­æ‰§è¡Œå½“å‰å‡½æ•°ä¸­å‰©ä½™çš„ä»£ç 

### è¯¦ç»†æ‰§è¡Œæ­¥éª¤ç¤ºä¾‹

å‡è®¾æˆ‘ä»¬æœ‰è¿™æ ·ä¸€ä¸ªç®€å•çš„äºŒå‰æ ‘ï¼š

```
    1
   / \
  2   3
```

è®©æˆ‘ä¸€æ­¥æ­¥è·Ÿè¸ªä»£ç æ‰§è¡Œï¼š

**ç¬¬1æ­¥ï¼š`traverse(1)` è¢«è°ƒç”¨**
- 1ä¸æ˜¯nilï¼Œç»§ç»­æ‰§è¡Œ
- æ‰§è¡Œ `traverse(1.Left)`ï¼Œä¹Ÿå°±æ˜¯ `traverse(2)`

**ç¬¬2æ­¥ï¼š`traverse(2)` è¢«è°ƒç”¨**
- 2ä¸æ˜¯nilï¼Œç»§ç»­æ‰§è¡Œ
- æ‰§è¡Œ `traverse(2.Left)`ï¼Œä¹Ÿå°±æ˜¯ `traverse(nil)`

**ç¬¬3æ­¥ï¼š`traverse(nil)` è¢«è°ƒç”¨**
- nodeæ˜¯nilï¼Œç›´æ¥return
- **è¿™æ˜¯é€’åˆ°æœ€æ·±å¤„ï¼Œå¼€å§‹å½’äº†ï¼**

**ç¬¬4æ­¥ï¼šå›åˆ°`traverse(2)`ï¼Œç»§ç»­æ‰§è¡Œå¤„ç†å½“å‰èŠ‚ç‚¹çš„ä»£ç **
- `result = append(result, 2)`  â† **å½’çš„æ—¶å€™æ‰§è¡Œè¿™å¥ï¼**
- æ‰§è¡Œ `traverse(2.Right)`ï¼Œä¹Ÿå°±æ˜¯ `traverse(nil)`

**ç¬¬5æ­¥ï¼š`traverse(nil)` è¢«è°ƒç”¨ï¼ˆ2çš„å³å­æ ‘ï¼‰**
- nodeæ˜¯nilï¼Œç›´æ¥return

**ç¬¬6æ­¥ï¼šå›åˆ°`traverse(1)`ï¼Œç»§ç»­æ‰§è¡Œå¤„ç†å½“å‰èŠ‚ç‚¹çš„ä»£ç **
- `result = append(result, 1)`  â† **å½’çš„æ—¶å€™æ‰§è¡Œè¿™å¥ï¼**
- æ‰§è¡Œ `traverse(1.Right)`ï¼Œä¹Ÿå°±æ˜¯ `traverse(3)`

**ç¬¬7æ­¥ï¼š`traverse(3)` è¢«è°ƒç”¨**
- 3ä¸æ˜¯nilï¼Œç»§ç»­æ‰§è¡Œ
- æ‰§è¡Œ `traverse(3.Left)`ï¼Œä¹Ÿå°±æ˜¯ `traverse(nil)`

**ç¬¬8æ­¥ï¼š`traverse(nil)` è¢«è°ƒç”¨ï¼ˆ3çš„å·¦å­æ ‘ï¼‰**
- nodeæ˜¯nilï¼Œç›´æ¥return

**ç¬¬9æ­¥ï¼šå›åˆ°`traverse(3)`ï¼Œç»§ç»­æ‰§è¡Œå¤„ç†å½“å‰èŠ‚ç‚¹çš„ä»£ç **
- `result = append(result, 3)`  â† **å½’çš„æ—¶å€™æ‰§è¡Œè¿™å¥ï¼**
- æ‰§è¡Œ `traverse(3.Right)`ï¼Œä¹Ÿå°±æ˜¯ `traverse(nil)`

**æœ€ç»ˆç»“æœï¼š** `[2, 1, 3]`

### å…³é”®ç†è§£ç‚¹

1. **é€’çš„è¿‡ç¨‹**ï¼šä¸æ–­è°ƒç”¨ `traverse(node.Left)`ï¼Œå‘å·¦å­æ ‘æ·±å…¥
2. **å½’çš„è¿‡ç¨‹**ï¼šå½“ `traverse(node.Left)` è¿”å›åï¼Œæ‰§è¡Œ `result = append(result, node.Val)`
3. **å³å­æ ‘çš„å¤„ç†**ï¼šåœ¨å½“å‰èŠ‚ç‚¹å¤„ç†å®Œ**ä¹‹å**æ‰å¼€å§‹æ–°çš„é€’å½’è¿‡ç¨‹

### ä¸ºä»€ä¹ˆæ˜¯è¿™æ ·çš„é¡ºåºï¼Ÿ

ä¸­åºéå†çš„é¡ºåºæ˜¯ï¼š**å·¦ â†’ æ ¹ â†’ å³**

- **å·¦**ï¼šé€šè¿‡ `traverse(node.Left)` å®ç°
- **æ ¹**ï¼šé€šè¿‡ `result = append(result, node.Val)` å®ç°ï¼ˆåœ¨å·¦å­æ ‘å¤„ç†å®Œåï¼‰
- **å³**ï¼šé€šè¿‡ `traverse(node.Right)` å®ç°ï¼ˆåœ¨å½“å‰èŠ‚ç‚¹å¤„ç†å®Œåï¼‰

### ä»£ç æ‰§è¡Œæ—¶åºå›¾

```
traverse(1)
â”œâ”€â”€ traverse(2)
â”‚   â”œâ”€â”€ traverse(nil) â† è¿”å›
â”‚   â”œâ”€â”€ result = append(result, 2) â† å½’æ—¶æ‰§è¡Œ
â”‚   â””â”€â”€ traverse(nil) â† è¿”å›
â”œâ”€â”€ result = append(result, 1) â† å½’æ—¶æ‰§è¡Œ
â””â”€â”€ traverse(3)
    â”œâ”€â”€ traverse(nil) â† è¿”å›
    â”œâ”€â”€ result = append(result, 3) â† å½’æ—¶æ‰§è¡Œ
    â””â”€â”€ traverse(nil) â† è¿”å›
```

### ä¸è¿­ä»£è§£æ³•çš„å¯¹åº”å…³ç³»

è¿­ä»£è§£æ³•ä½¿ç”¨æ ˆæ¥æ¨¡æ‹Ÿé€’å½’è¿‡ç¨‹ï¼š

```go
func inorderTraversalIterative(root *TreeNode) []int {
    var result []int
    var stack []*TreeNode
    current := root

    for current != nil || len(stack) > 0 {
        // å…¥æ ˆè¿‡ç¨‹ï¼šæ¨¡æ‹Ÿé€’å½’çš„"é€’"è¿‡ç¨‹
        for current != nil {
            stack = append(stack, current)
            current = current.Left
        }

        // å‡ºæ ˆè¿‡ç¨‹ï¼šæ¨¡æ‹Ÿé€’å½’çš„"å½’"è¿‡ç¨‹
        current = stack[len(stack)-1]
        stack = stack[:len(stack)-1]
        result = append(result, current.Val)

        // è½¬å‘å³å­æ ‘ï¼šå¼€å§‹æ–°çš„é€’å½’
        current = current.Right
    }

    return result
}
```

**å¯¹åº”å…³ç³»ï¼š**
- **å…¥æ ˆè¿‡ç¨‹**ï¼šæ¨¡æ‹Ÿé€’å½’çš„"é€’"è¿‡ç¨‹
- **å‡ºæ ˆè¿‡ç¨‹**ï¼šæ¨¡æ‹Ÿé€’å½’çš„"å½’"è¿‡ç¨‹
- **å¤„ç†èŠ‚ç‚¹**ï¼šåœ¨å‡ºæ ˆæ—¶å¤„ç†å½“å‰èŠ‚ç‚¹ï¼ˆç›¸å½“äºé€’å½’ä¸­çš„å½’é˜¶æ®µï¼‰

### æ€»ç»“

ç†è§£ä¸­åºéå†çš„å…³é”®åœ¨äºï¼š
1. **å…ˆé€’å½’åˆ°æœ€å·¦è¾¹**ï¼ˆé€’çš„è¿‡ç¨‹ï¼‰
2. **ç„¶åé€å±‚è¿”å›å¤„ç†èŠ‚ç‚¹**ï¼ˆå½’çš„è¿‡ç¨‹ï¼‰
3. **æœ€åå¤„ç†å³å­æ ‘**ï¼ˆåˆå¼€å§‹é€’å½’ï¼‰

è¿™ç§é€’å½’æ¨¡å¼æ˜¯ç†è§£æ‰€æœ‰æ ‘ç®—æ³•çš„åŸºç¡€ï¼